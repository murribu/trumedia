<div class="container" data-ng-controller="reportsBatterHeatZoneCtrl as rctrl">
    <div class="card">
        <div class="card-header">
            <h2>Customize Your Report</h2>
        </div>
        <div class="card-body card-padding">
            <ul class="tab-nav tn-justified" style="margin-bottom: 24px;">
                <li ng-class="{'active': rctrl.activeTab == 'basic'}" class="btn-wave">
                    <a ng-click="rctrl.activeTab = 'basic'" href="#/reports/heat-zone">Basic Filters</a>
                </li>
                <li ng-class="{'active': rctrl.activeTab == 'additional'}" class="btn-wave">
                    <a ng-click="rctrl.activeTab = 'additional'" href="#/reports/heat-zone">Select Player(s)</a>
                </li>
            </ul>
            <div ng-show="rctrl.activeTab == 'basic'">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Minimum Pitch Count</label>
                            <div class="fg-line">
                                <input type="number" class="form-control" ng-model="rctrl.minimumPitchCount">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Player Search</label>
                            <div class="fg-line">
                                <input type="text" class="form-control" ng-model="rctrl.playerSearch" placeholder="Posey">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-show="rctrl.activeTab == 'additional'">
                <div class="row">
                    <div class="col-md-3">
                        Select a pitcher<br><select id="select-pitcher" ng-model="rctrl.additionalFilters.selectedPitcher" style="width:150px"></select>
                    </div>
                    <div class="col-md-3">
                        Select a batter<br>
                        <select id="select-batter" ng-model="rctrl.additionalFilters.selectedBatter" style="width:150px"></select>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header">
            <h2>Batter Heat Zone</h2> <small>Results are limited to 400 pitches</small>
        </div>
        <div class="card-body heat-zone-card">
            <div class="selected-pitcher"></div>
            <div class="selected-batter"></div>
            <div class="heat-zone-container">
                <div ng-repeat="n in rctrl.range(0,24)" class="heat-zone-section heat-row-{{Math.floor(n/5)}} heat-col-{{n % 5}}"></div>
                <div ng-repeat="point in rctrl.dataPoints | filter:filterResults" class="heat-zone-pitch" ng-class="{'heat-zone-in-play' : point.pa_result_id != '', 'heat-zone-ball' : point.ball == 1, 'heat-zone-strike' : point.strike == 1}"
                style="
                top:{{396-(240*((point.y-point.szb)/(point.szt-point.szb)))}}px;
                left:{{276+(point.x*240*12/17)}}px" 
                title="{{point.pitch_desc}} - {{point.pa_desc}}" ng-mouseover="selectedPoint = point"></div>
            </div>
        </div>
    </div>
</div>